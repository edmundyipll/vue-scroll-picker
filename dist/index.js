!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);function n(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o="undefined"!=typeof window&&"ontouchstart"in window,s={props:{value:null,options:{type:Array,default:function(){return[]}},dragSensitivity:{type:Number,default:1.7},touchSensitivity:{type:Number,default:1.7},scrollSensitivity:{type:Number,default:1},placeholder:String},data:function(){var t=this.placeholder?-1:0;return this.value&&this.pivotsStable&&this.updateInput(),{top:0,pivots:null,lastIndex:t,transitioning:!1,transitionTO:null,startTop:null,isMouseDown:!1,isDragging:!1,isScrolling:!1,startY:null,scrollMax:null,selectionRegionHeight:0,pivotsStable:!1,listenerRegistered:!1,optionsJsonUpdatedAt:0}},mounted:function(){var t=this,e=40;this.updatePivots(),function i(){e--,t.updateSelectionRegionHeight()&&e>0?setTimeout(i,80):t.pivotsStable=!0}(),!this.value&&this.sanitizedOptions[this.lastIndex]&&this.$emit("input",this.sanitizedOptions[this.lastIndex].value)},destroyed:function(){this.deregisterListeners()},computed:{sanitizedOptions:function(){return this.options.map(function(t){return t.hasOwnProperty("value")&&t.hasOwnProperty("name")?t:{value:t,name:t}})},optionsJson:function(){return JSON.stringify(n(this.sanitizedOptions).sort(function(t,e){return t.value.toString().localeCompare(e.value.toString())}))}},watch:{value:function(t,e){if(this.pivotsStable){var i=-1;this.sanitizedOptions.forEach(function(e,n){e.value==t&&(i=n)}),this.lastIndex!==i&&this.correction(i)}},pivotsStable:function(t){t&&(this.updateInput(),this.registerListeners())},optionsJson:function(t){var e=this;this.pivotsStable&&(this.optionsJsonUpdatedAt=Date.now(),this.top=0,this.lastIndex=this.placeholder?-1:0,this.$forceUpdate(),this.$nextTick(function(){e.updatePivots(),e.updateInput()}))}},methods:{registerListeners:function(){o?(this.$el.addEventListener("touchstart",this.onStart),this.$el.addEventListener("touchmove",this.onTouchMove),this.$el.addEventListener("touchend",this.onEnd),this.$el.addEventListener("touchcancel",this.onCancel)):(this.$el.addEventListener("mousewheel",this.onScroll),this.$el.addEventListener("wheel",this.onScroll),this.$el.addEventListener("mousedown",this.onStart),this.$el.addEventListener("mousemove",this.onMouseMove),this.$el.addEventListener("mouseup",this.onEnd),this.$el.addEventListener("mouseleave",this.onCancel)),this.listenerRegistered=!0},deregisterListeners:function(){this.listenerRegistered&&(o?(this.$el.removeEventListener("touchstart",this.onStart),this.$el.removeEventListener("touchmove",this.onTouchMove),this.$el.removeEventListener("touchend",this.onEnd),this.$el.removeEventListener("touchcancel",this.onCancel)):(this.$el.removeEventListener("mousewheel",this.onScroll),this.$el.removeEventListener("wheel",this.onScroll),this.$el.removeEventListener("mousedown",this.onStart),this.$el.removeEventListener("mousemove",this.onMouseMove),this.$el.removeEventListener("mouseup",this.onEnd),this.$el.removeEventListener("mouseleave",this.onCancel)))},onScroll:function(t){var e=this;this.top>=0&&t.deltaY<0||this.top<=this.scrollMax&&t.deltaY>0||(t.preventDefault(),t.stopPropagation(),this.isScrolling||(this.isScrolling=!0,t.deltaY<0?this.correction(this.lastIndex-Math.floor(Math.abs(t.deltaY)/30*this.scrollSensitivity+1)):t.deltaY>0&&this.correction(this.lastIndex+Math.floor(Math.abs(t.deltaY)/30*this.scrollSensitivity+1)),setTimeout(function(){e.isScrolling=!1},80)))},getTouchInfo:function(t){return o?t.changedTouches[0]||t.touches[0]:t},onStart:function(t){t.cancelable&&(t.preventDefault(),t.stopPropagation());var e=this.getTouchInfo(t);this.startTop=this.top,this.startY=e.pageY,o||(this.isMouseDown=!0),this.isDragging=!1},onTouchMove:function(t){if(t.preventDefault(),t.stopPropagation(),o||this.isMouseDown){var e=this.getTouchInfo(t).pageY-this.startY;Math.abs(e)>1.5&&(this.isDragging=!0),this.top=this.startTop+e*this.touchSensitivity}},onMouseMove:function(t){if(t.preventDefault(),t.stopPropagation(),o||this.isMouseDown){var e=this.getTouchInfo(t).pageY-this.startY;Math.abs(e)>1.5&&(this.isDragging=!0),this.top=this.startTop+e*this.dragSensitivity}},onEnd:function(t){if(t.preventDefault(),t.stopPropagation(),!this.isDragging)return this.isDragging=!1,this.isMouseDown=!1,void this.handleClick(t);this.isDragging=!1,this.isMouseDown=!1,this.correctionAfterDragging()},onCancel:function(t){t.preventDefault(),t.stopPropagation(),(o||this.isMouseDown)&&(this.correctionAfterDragging(),this.isMouseDown=!1,this.isDragging=!1)},handleClick:function(t){var e=this.getTouchInfo(t),i=e.clientX,n=e.clientY,o=this.$refs.top.getBoundingClientRect(),s=this.$refs.bottom.getBoundingClientRect();o.left<=i&&i<=o.right&&o.top<=n&&n<=o.bottom?this.correction(this.lastIndex-1):s.left<=i&&i<=s.right&&s.top<=n&&n<=s.bottom&&this.correction(this.lastIndex+1)},correctionAfterDragging:function(){var t=null,e=null,i=this.top;this.placeholder&&(t=-1,e=0+i),this.pivots.forEach(function(n,o){var s=n+i;(null===e||Math.abs(e)>Math.abs(s))&&(t=o,e=s)}),this.correction(t)},correction:function(t){var e=this;t=Math.min(Math.max(t,this.placeholder?-1:0),this.pivots.length-1),this.lastIndex!==t&&(this.lastIndex=t,this.$emit("input",t>-1?this.sanitizedOptions[t].value:null)),this.top=t>-1?-1*this.pivots[t]:0,this.transitioning=!0,this.transitionTO&&(clearTimeout(this.transitionTO),this.transitionTO=null),this.transitionTO=setTimeout(function(){e.transitioning=!1,e.transitionTO=null},100)},updatePivots:function(t){var e=this.$refs.selection.getBoundingClientRect(),i=(e.top+e.bottom)/2;this.pivots=this.$refs.items.map(function(t){var e=t.getBoundingClientRect();return Math.round(10*((e.top+e.bottom)/2-i))/10}),this.scrollMax=-1*this.pivots[this.pivots.length-1],(this.lastIndex>0||t)&&(this.top=-1*this.pivots[this.lastIndex])},updateSelectionRegionHeight:function(){var t=this.$refs.selection.getBoundingClientRect();return t.height!==this.selectionRegionHeight&&(this.selectionRegionHeight=t.height,this.updatePivots(!0),!0)},updateInput:function(){var t=this,e=this.placeholder?-1:0;this.options.forEach(function(i,n){i!=t.value&&i.value!=t.value||(e=n)}),this.lastIndex=e,this.correction(this.lastIndex)}},render:function(t){var e=this,i=[];return this.placeholder&&i.push(t("div",{class:{"vue-scroll-picker-item":!0,"-placeholder":!0,"-selected":-1==this.lastIndex},ref:"placeholder",domProps:{innerHTML:this.placeholder}})),i=i.concat(this.sanitizedOptions.map(function(i,n){return t("div",{class:{"vue-scroll-picker-item":!0,"-selected":e.lastIndex==n},key:"".concat(e.optionsJsonUpdatedAt,"-").concat(i.value),ref:"items",refInFor:!0,domProps:{innerHTML:i.name}})})),t("div",{class:["vue-scroll-picker"]},[t("div",{class:["vue-scroll-picker-list"]},[t("div",{class:{"vue-scroll-picker-list-rotator":!0,"-transition":this.transitioning},style:{top:"".concat(this.top,"px")}},i)]),t("div",{class:["vue-scroll-picker-layer"]},[t("div",{class:["top"],ref:"top"}),t("div",{class:["middle"],ref:"selection"}),t("div",{class:["bottom"],ref:"bottom"})])])}};i(1);function r(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a={render:function(t){return t("div",{class:["vue-scroll-picker-group"]},r(this.$slots.default))}};function l(t){t.component("ScrollPicker",s),t.component("ScrollPickerGroup",a)}i.d(e,"install",function(){return l}),i.d(e,"ScrollPicker",function(){return s}),i.d(e,"ScrollPickerGroup",function(){return a}),"undefined"!=typeof window&&window.Vue&&l(window.Vue);e.default={install:l}}])});
//# sourceMappingURL=index.js.map